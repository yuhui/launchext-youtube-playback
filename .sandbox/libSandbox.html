<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta name="template_version" content="2.0">
  <title>Test page for YouTube playback extension</title>
  <script src="launch-EN00000000000000000000000000000000.js" async></script>
  <!--<script src="http://www.youtube.com/iframe"></script>-->
  <script>
    /*
    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '390',
        width: '640',
        videoId: 'M7lc1UVf-VE',
        playerVars: {
          'playsinline': 1
        },
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }
    function onPlayerReady(event) {
      console.log(`Player ${event.target.id} is ready`);
    }
    function onPlayerStateChange(event) {
      console.log(`Player ${event.target.id} has changed state to ${event.data}`);
    }
    */
  </script>
</head>

<body>
  <h1>Reactor Extension Library Sandbox</h1>
  <!-- video that is added by code -->
  <p>Click anywhere in this page to enable the below video for tracking.</p>
  <div id="player"></div>
  <!-- video that is added by a user action -->
  <p>
    <span style="color:blue;text-decoration: underline;" onclick="showVideo();">Show video</span>
    &nbsp;&nbsp;&nbsp;
    <span style="color:blue;text-decoration: underline;" onclick="removeVideo();">Remove video</span>
  </p>
  <div id="dynamicPlayer"></div>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/r_SRf063ffo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/9mdMm7fJp2Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <!-- autoplay video -->
  <iframe width="560" height="315" src="https://www.youtube.com/embed/w7MvvbRbI7s?autoplay=1" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <!-- live video -->
  <iframe width="560" height="315" src="https://www.youtube.com/embed/XWq5kBlakcQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <!-- not a video -->
  <iframe width="560" height="315" src="about:invalid" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <iframe width="560" height="315" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  <script>
    const VIDEO_ID = '5YCzQrDHPWw';
    const DYNAMIC_PLAYER = document.getElementById('dynamicPlayer');

    function showVideo() {
      let videoFrame = document.createElement('iframe');
      videoFrame.setAttribute('width', '560');
      videoFrame.setAttribute('height', '315');
      videoFrame.setAttribute('src', `https://www.youtube.com/embed/${VIDEO_ID}`);
      videoFrame.setAttribute('frameborder', '0');
      videoFrame.setAttribute('allow', 'accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture');
      videoFrame.setAttribute('allowfullscreen', 'allowfullscreen');
      DYNAMIC_PLAYER.appendChild(videoFrame);
    }

    function removeVideo() {
      DYNAMIC_PLAYER.removeChild(DYNAMIC_PLAYER.firstChild);
    }
  </script>
</body>

</html>
